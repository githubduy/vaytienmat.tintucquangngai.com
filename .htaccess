<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Bảo mật: Chặn truy cập trực tiếp vào thư mục config chứa thông tin nhạy cảm
    RewriteRule ^config/ - [F,L]

    # 1. Chuyển hướng index.php về trang chủ (/) để tránh trùng lặp nội dung
    RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+index\.php\s [NC]
    RewriteRule ^index\.php$ / [R=301,L]

    # 2. Xử lý trang chủ
    RewriteRule ^$ index.php?page=index [L]

    # 3. Xử lý các trang con: Chuyển mọi đường dẫn không phải file/thư mục thực về index.php
    # Ví dụ: /gioi-thieu -> index.php?page=gioi-thieu
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?page=$1 [L,QSA]
</IfModule>